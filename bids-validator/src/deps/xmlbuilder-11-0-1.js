/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/xmlbuilder@11.0.1/lib/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},e={},n={};(function(){var t,e,r,o,i,s,p,u=[].slice,h={}.hasOwnProperty;t=function(){var t,e,n,r,o,s;if(s=arguments[0],o=2<=arguments.length?u.call(arguments,1):[],i(Object.assign))Object.assign.apply(null,arguments);else for(t=0,n=o.length;t<n;t++)if(null!=(r=o[t]))for(e in r)h.call(r,e)&&(s[e]=r[e]);return s},i=function(t){return!!t&&"[object Function]"===Object.prototype.toString.call(t)},s=function(t){var e;return!!t&&("function"==(e=typeof t)||"object"===e)},r=function(t){return i(Array.isArray)?Array.isArray(t):"[object Array]"===Object.prototype.toString.call(t)},o=function(t){var e;if(r(t))return!t.length;for(e in t)if(h.call(t,e))return!1;return!0},p=function(t){var e,n;return s(t)&&(n=Object.getPrototypeOf(t))&&(e=n.constructor)&&"function"==typeof e&&e instanceof e&&Function.prototype.toString.call(e)===Function.prototype.toString.call(Object)},e=function(t){return i(t.valueOf)?t.valueOf():t},n.assign=t,n.isFunction=i,n.isObject=s,n.isArray=r,n.isEmpty=o,n.isPlainObject=p,n.getValue=e}).call(t);var r={exports:{}};(function(){r.exports=function(){function t(){}return t.prototype.hasFeature=function(t,e){return!0},t.prototype.createDocumentType=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createDocument=function(t,e,n){throw new Error("This DOM method is not implemented.")},t.prototype.createHTMLDocument=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(t);var o={exports:{}},i={exports:{}},s={exports:{}};(function(){s.exports=function(){function t(){}return t.prototype.handleError=function(t){throw new Error(t)},t}()}).call(t);var p={exports:{}};(function(){p.exports=function(){function t(t){this.arr=t||[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.arr.length}}),t.prototype.item=function(t){return this.arr[t]||null},t.prototype.contains=function(t){return-1!==this.arr.indexOf(t)},t}()}).call(t),function(){var t,e;t=s.exports,e=p.exports,i.exports=function(){function n(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new t,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}return Object.defineProperty(n.prototype,"parameterNames",{get:function(){return new e(Object.keys(this.defaultParams))}}),n.prototype.getParameter=function(t){return this.params.hasOwnProperty(t)?this.params[t]:null},n.prototype.canSetParameter=function(t,e){return!0},n.prototype.setParameter=function(t,e){return null!=e?this.params[t]=e:delete this.params[t]},n}()}.call(t);var u={exports:{}},h={exports:{}},a={exports:{}};(function(){a.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(t);var c={exports:{}};(function(){var t;t=a.exports,c.exports=function(){function e(e,n,r){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==n)throw new Error("Missing attribute name. "+this.debugInfo(n));this.name=this.stringify.name(n),this.value=this.stringify.attValue(r),this.type=t.Attribute,this.isId=!1,this.schemaTypeInfo=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(e.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(e.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(e.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(e.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(e.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(e.prototype,"specified",{get:function(){return!0}}),e.prototype.clone=function(){return Object.create(this)},e.prototype.toString=function(t){return this.options.writer.attribute(this,this.options.writer.filterOptions(t))},e.prototype.debugInfo=function(t){return null==(t=t||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+t+"}, parent: <"+this.parent.name+">"},e.prototype.isEqualNode=function(t){return t.namespaceURI===this.namespaceURI&&(t.prefix===this.prefix&&(t.localName===this.localName&&t.value===this.value))},e}()}).call(t);var l={exports:{}};(function(){l.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.getNamedItem=function(t){return this.nodes[t]},t.prototype.setNamedItem=function(t){var e;return e=this.nodes[t.nodeName],this.nodes[t.nodeName]=t,e||null},t.prototype.removeNamedItem=function(t){var e;return e=this.nodes[t],delete this.nodes[t],e||null},t.prototype.item=function(t){return this.nodes[Object.keys(this.nodes)[t]]||null},t.prototype.getNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t.prototype.setNamedItemNS=function(t){throw new Error("This DOM method is not implemented.")},t.prototype.removeNamedItemNS=function(t,e){throw new Error("This DOM method is not implemented.")},t}()}).call(t),function(){var t,e,r,o,i,s,p,d,f={}.hasOwnProperty;p=(d=n).isObject,s=d.isFunction,i=d.getValue,o=u.exports,t=a.exports,e=c.exports,r=l.exports,h.exports=function(n){function o(e,n,r){var i,s,p,u;if(o.__super__.constructor.call(this,e),null==n)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(n),this.type=t.Element,this.attribs={},this.schemaTypeInfo=null,null!=r&&this.attribute(r),e.type===t.Document&&(this.isRoot=!0,this.documentObject=e,e.rootObject=this,e.children))for(s=0,p=(u=e.children).length;s<p;s++)if((i=u[s]).type===t.DocType){i.name=this.name;break}}return function(t,e){for(var n in e)f.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(o,n),Object.defineProperty(o.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(o.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(o.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(o.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(o.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(o.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(o.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(o.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new r(this.attribs)),this.attributeMap}}),o.prototype.clone=function(){var t,e,n,r;for(e in(n=Object.create(this)).isRoot&&(n.documentObject=null),n.attribs={},r=this.attribs)f.call(r,e)&&(t=r[e],n.attribs[e]=t.clone());return n.children=[],this.children.forEach((function(t){var e;return(e=t.clone()).parent=n,n.children.push(e)})),n},o.prototype.attribute=function(t,n){var r,o;if(null!=t&&(t=i(t)),p(t))for(r in t)f.call(t,r)&&(o=t[r],this.attribute(r,o));else s(n)&&(n=n.apply()),this.options.keepNullAttributes&&null==n?this.attribs[t]=new e(this,t,""):null!=n&&(this.attribs[t]=new e(this,t,n));return this},o.prototype.removeAttribute=function(t){var e,n,r;if(null==t)throw new Error("Missing attribute name. "+this.debugInfo());if(t=i(t),Array.isArray(t))for(n=0,r=t.length;n<r;n++)e=t[n],delete this.attribs[e];else delete this.attribs[t];return this},o.prototype.toString=function(t){return this.options.writer.element(this,this.options.writer.filterOptions(t))},o.prototype.att=function(t,e){return this.attribute(t,e)},o.prototype.a=function(t,e){return this.attribute(t,e)},o.prototype.getAttribute=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t].value:null},o.prototype.setAttribute=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.getAttributeNode=function(t){return this.attribs.hasOwnProperty(t)?this.attribs[t]:null},o.prototype.setAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.removeAttributeNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.getAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.setAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.removeAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.getAttributeNodeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.setAttributeNodeNS=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.hasAttribute=function(t){return this.attribs.hasOwnProperty(t)},o.prototype.hasAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.setIdAttribute=function(t,e){return this.attribs.hasOwnProperty(t)?this.attribs[t].isId:e},o.prototype.setIdAttributeNS=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.setIdAttributeNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},o.prototype.isEqualNode=function(t){var e,n,r;if(!o.__super__.isEqualNode.apply(this,arguments).isEqualNode(t))return!1;if(t.namespaceURI!==this.namespaceURI)return!1;if(t.prefix!==this.prefix)return!1;if(t.localName!==this.localName)return!1;if(t.attribs.length!==this.attribs.length)return!1;for(e=n=0,r=this.attribs.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n)if(!this.attribs[e].isEqualNode(t.attribs[e]))return!1;return!0},o}(o)}.call(t);var d={exports:{}},f={exports:{}};(function(){var t,e={}.hasOwnProperty;t=u.exports,f.exports=function(t){function n(t){n.__super__.constructor.call(this,t),this.value=""}return function(t,n){for(var r in n)e.call(n,r)&&(t[r]=n[r]);function o(){this.constructor=t}o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype}(n,t),Object.defineProperty(n.prototype,"data",{get:function(){return this.value},set:function(t){return this.value=t||""}}),Object.defineProperty(n.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(n.prototype,"textContent",{get:function(){return this.value},set:function(t){return this.value=t||""}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.substringData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.appendData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.insertData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.deleteData=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isEqualNode=function(t){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.data===this.data},n}(t)}).call(t),function(){var t,e,n={}.hasOwnProperty;t=a.exports,e=f.exports,d.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=t.CData,this.value=this.stringify.cdata(n)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.cdata(this,this.options.writer.filterOptions(t))},r}(e)}.call(t);var y={exports:{}};(function(){var t,e,n={}.hasOwnProperty;t=a.exports,e=f.exports,y.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=t.Comment,this.value=this.stringify.comment(n)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.comment(this,this.options.writer.filterOptions(t))},r}(e)}).call(t);var m={exports:{}};(function(){var t,e,r,o={}.hasOwnProperty;r=n.isObject,e=u.exports,t=a.exports,m.exports=function(e){function n(e,o,i,s){var p;n.__super__.constructor.call(this,e),r(o)&&(o=(p=o).version,i=p.encoding,s=p.standalone),o||(o="1.0"),this.type=t.Declaration,this.version=this.stringify.xmlVersion(o),null!=i&&(this.encoding=this.stringify.xmlEncoding(i)),null!=s&&(this.standalone=this.stringify.xmlStandalone(s))}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),n.prototype.toString=function(t){return this.options.writer.declaration(this,this.options.writer.filterOptions(t))},n}(e)}).call(t);var g={exports:{}},w={exports:{}};(function(){var t,e,n={}.hasOwnProperty;e=u.exports,t=a.exports,w.exports=function(e){function r(e,n,o,i,s,p){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==o)throw new Error("Missing DTD attribute name. "+this.debugInfo(n));if(!i)throw new Error("Missing DTD attribute type. "+this.debugInfo(n));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(n));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(n));if(p&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(n));this.elementName=this.stringify.name(n),this.type=t.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(i),p&&(this.defaultValue=this.stringify.dtdAttDefault(p)),this.defaultValueType=s}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,e),r.prototype.toString=function(t){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(t))},r}(e)}).call(t);var b={exports:{}};(function(){var t,e,r,o={}.hasOwnProperty;r=n.isObject,e=u.exports,t=a.exports,b.exports=function(e){function n(e,o,i,s){if(n.__super__.constructor.call(this,e),null==i)throw new Error("Missing DTD entity name. "+this.debugInfo(i));if(null==s)throw new Error("Missing DTD entity value. "+this.debugInfo(i));if(this.pe=!!o,this.name=this.stringify.name(i),this.type=t.EntityDeclaration,r(s)){if(!s.pubID&&!s.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(i));if(s.pubID&&!s.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(i));if(this.internal=!1,null!=s.pubID&&(this.pubID=this.stringify.dtdPubID(s.pubID)),null!=s.sysID&&(this.sysID=this.stringify.dtdSysID(s.sysID)),null!=s.nData&&(this.nData=this.stringify.dtdNData(s.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(i))}else this.value=this.stringify.dtdEntityValue(s),this.internal=!0}return function(t,e){for(var n in e)o.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(n,e),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(n.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(n.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(n.prototype,"xmlVersion",{get:function(){return null}}),n.prototype.toString=function(t){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(t))},n}(e)}).call(t);var D={exports:{}};(function(){var t,e,n={}.hasOwnProperty;e=u.exports,t=a.exports,D.exports=function(e){function r(e,n,o){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD element name. "+this.debugInfo());o||(o="(#PCDATA)"),Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(n),this.type=t.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,e),r.prototype.toString=function(t){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(t))},r}(e)}).call(t);var v={exports:{}};(function(){var t,e,n={}.hasOwnProperty;e=u.exports,t=a.exports,v.exports=function(e){function r(e,n,o){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing DTD notation name. "+this.debugInfo(n));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(n));this.name=this.stringify.name(n),this.type=t.NotationDeclaration,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID))}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,e),Object.defineProperty(r.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(r.prototype,"systemId",{get:function(){return this.sysID}}),r.prototype.toString=function(t){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(t))},r}(e)}).call(t),function(){var t,e,r,o,i,s,p,h,c={}.hasOwnProperty;h=n.isObject,p=u.exports,t=a.exports,e=w.exports,o=b.exports,r=D.exports,i=v.exports,s=l.exports,g.exports=function(n){function p(e,n,r){var o,i,s,u,a,c;if(p.__super__.constructor.call(this,e),this.type=t.DocType,e.children)for(i=0,s=(u=e.children).length;i<s;i++)if((o=u[i]).type===t.Element){this.name=o.name;break}this.documentObject=e,h(n)&&(n=(a=n).pubID,r=a.sysID),null==r&&(r=(c=[n,r])[0],n=c[1]),null!=n&&(this.pubID=this.stringify.dtdPubID(n)),null!=r&&(this.sysID=this.stringify.dtdSysID(r))}return function(t,e){for(var n in e)c.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(p,n),Object.defineProperty(p.prototype,"entities",{get:function(){var e,n,r,o,i;for(o={},n=0,r=(i=this.children).length;n<r;n++)(e=i[n]).type!==t.EntityDeclaration||e.pe||(o[e.name]=e);return new s(o)}}),Object.defineProperty(p.prototype,"notations",{get:function(){var e,n,r,o,i;for(o={},n=0,r=(i=this.children).length;n<r;n++)(e=i[n]).type===t.NotationDeclaration&&(o[e.name]=e);return new s(o)}}),Object.defineProperty(p.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(p.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(p.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),p.prototype.element=function(t,e){var n;return n=new r(this,t,e),this.children.push(n),this},p.prototype.attList=function(t,n,r,o,i){var s;return s=new e(this,t,n,r,o,i),this.children.push(s),this},p.prototype.entity=function(t,e){var n;return n=new o(this,!1,t,e),this.children.push(n),this},p.prototype.pEntity=function(t,e){var n;return n=new o(this,!0,t,e),this.children.push(n),this},p.prototype.notation=function(t,e){var n;return n=new i(this,t,e),this.children.push(n),this},p.prototype.toString=function(t){return this.options.writer.docType(this,this.options.writer.filterOptions(t))},p.prototype.ele=function(t,e){return this.element(t,e)},p.prototype.att=function(t,e,n,r,o){return this.attList(t,e,n,r,o)},p.prototype.ent=function(t,e){return this.entity(t,e)},p.prototype.pent=function(t,e){return this.pEntity(t,e)},p.prototype.not=function(t,e){return this.notation(t,e)},p.prototype.up=function(){return this.root()||this.documentObject},p.prototype.isEqualNode=function(t){return!!p.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&(t.name===this.name&&(t.publicId===this.publicId&&t.systemId===this.systemId))},p}(p)}.call(t);var O={exports:{}};(function(){var t,e,n={}.hasOwnProperty;t=a.exports,e=u.exports,O.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing raw text. "+this.debugInfo());this.type=t.Raw,this.value=this.stringify.raw(n)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.raw(this,this.options.writer.filterOptions(t))},r}(e)}).call(t);var x={exports:{}};(function(){var t,e,n={}.hasOwnProperty;t=a.exports,e=f.exports,x.exports=function(e){function r(e,n){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=t.Text,this.value=this.stringify.text(n)}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,e),Object.defineProperty(r.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(r.prototype,"wholeText",{get:function(){var t,e,n;for(n="",e=this.previousSibling;e;)n=e.data+n,e=e.previousSibling;for(n+=this.data,t=this.nextSibling;t;)n+=t.data,t=t.nextSibling;return n}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.text(this,this.options.writer.filterOptions(t))},r.prototype.splitText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceWholeText=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(e)}).call(t);var I={exports:{}};(function(){var t,e,n={}.hasOwnProperty;t=a.exports,e=f.exports,I.exports=function(e){function r(e,n,o){if(r.__super__.constructor.call(this,e),null==n)throw new Error("Missing instruction target. "+this.debugInfo());this.type=t.ProcessingInstruction,this.target=this.stringify.insTarget(n),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(t))},r.prototype.isEqualNode=function(t){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(t)&&t.target===this.target},r}(e)}).call(t);var E={exports:{}};(function(){var t,e,n={}.hasOwnProperty;e=u.exports,t=a.exports,E.exports=function(e){function r(e){r.__super__.constructor.call(this,e),this.type=t.Dummy}return function(t,e){for(var r in e)n.call(e,r)&&(t[r]=e[r]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(r,e),r.prototype.clone=function(){return Object.create(this)},r.prototype.toString=function(t){return""},r}(e)}).call(t);var T={exports:{}};(function(){T.exports=function(){function t(t){this.nodes=t}return Object.defineProperty(t.prototype,"length",{get:function(){return this.nodes.length||0}}),t.prototype.clone=function(){return this.nodes=null},t.prototype.item=function(t){return this.nodes[t]||null},t}()}).call(t);var N={exports:{}};(function(){N.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(t),function(){var t,e,r,o,i,s,p,c,l,f,w,b,D,v,_,C,P,F={}.hasOwnProperty;C=(P=n).isObject,_=P.isFunction,v=P.isEmpty,D=P.getValue,c=null,r=null,o=null,i=null,s=null,w=null,b=null,f=null,p=null,e=null,l=null,t=null,u.exports=function(){function n(n){this.parent=n,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,c||(c=h.exports,r=d.exports,o=y.exports,i=m.exports,s=g.exports,w=O.exports,b=x.exports,f=I.exports,p=E.exports,e=a.exports,l=T.exports,t=N.exports)}return Object.defineProperty(n.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(n.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(n.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(n.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new l(this.children)),this.childNodeList}}),Object.defineProperty(n.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(n.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(n.prototype,"previousSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t-1]||null}}),Object.defineProperty(n.prototype,"nextSibling",{get:function(){var t;return t=this.parent.children.indexOf(this),this.parent.children[t+1]||null}}),Object.defineProperty(n.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(n.prototype,"textContent",{get:function(){var t,n,r,o,i;if(this.nodeType===e.Element||this.nodeType===e.DocumentFragment){for(i="",n=0,r=(o=this.children).length;n<r;n++)(t=o[n]).textContent&&(i+=t.textContent);return i}return null},set:function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),n.prototype.setParent=function(t){var e,n,r,o,i;for(this.parent=t,t&&(this.options=t.options,this.stringify=t.stringify),i=[],n=0,r=(o=this.children).length;n<r;n++)e=o[n],i.push(e.setParent(this));return i},n.prototype.element=function(t,e,n){var r,o,i,s,p,u,h,a,c,l,d;if(u=null,null===e&&null==n&&(e=(c=[{},null])[0],n=c[1]),null==e&&(e={}),e=D(e),C(e)||(n=(l=[e,n])[0],e=l[1]),null!=t&&(t=D(t)),Array.isArray(t))for(i=0,h=t.length;i<h;i++)o=t[i],u=this.element(o);else if(_(t))u=this.element(t.apply());else if(C(t)){for(p in t)if(F.call(t,p))if(d=t[p],_(d)&&(d=d.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===p.indexOf(this.stringify.convertAttKey))u=this.attribute(p.substr(this.stringify.convertAttKey.length),d);else if(!this.options.separateArrayItems&&Array.isArray(d)&&v(d))u=this.dummy();else if(C(d)&&v(d))u=this.element(p);else if(this.options.keepNullNodes||null!=d)if(!this.options.separateArrayItems&&Array.isArray(d))for(s=0,a=d.length;s<a;s++)o=d[s],(r={})[p]=o,u=this.element(r);else C(d)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===p.indexOf(this.stringify.convertTextKey)?u=this.element(d):(u=this.element(p)).element(d):u=this.element(p,d);else u=this.dummy()}else u=this.options.keepNullNodes||null!==n?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===t.indexOf(this.stringify.convertTextKey)?this.text(n):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===t.indexOf(this.stringify.convertCDataKey)?this.cdata(n):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===t.indexOf(this.stringify.convertCommentKey)?this.comment(n):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===t.indexOf(this.stringify.convertRawKey)?this.raw(n):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===t.indexOf(this.stringify.convertPIKey)?this.instruction(t.substr(this.stringify.convertPIKey.length),n):this.node(t,e,n):this.dummy();if(null==u)throw new Error("Could not create any elements with: "+t+". "+this.debugInfo());return u},n.prototype.insertBefore=function(t,e,n){var r,o,i,s,p;if(null!=t?t.type:void 0)return s=e,(i=t).setParent(this),s?(o=children.indexOf(s),p=children.splice(o),children.push(i),Array.prototype.push.apply(children,p)):children.push(i),i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return o=this.parent.children.indexOf(this),p=this.parent.children.splice(o),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,p),r},n.prototype.insertAfter=function(t,e,n){var r,o,i;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(t));return o=this.parent.children.indexOf(this),i=this.parent.children.splice(o+1),r=this.parent.element(t,e,n),Array.prototype.push.apply(this.parent.children,i),r},n.prototype.remove=function(){var t;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return t=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[t,t-t+1].concat([])),this.parent},n.prototype.node=function(t,e,n){var r,o;return null!=t&&(t=D(t)),e||(e={}),e=D(e),C(e)||(n=(o=[e,n])[0],e=o[1]),r=new c(this,t,e),null!=n&&r.text(n),this.children.push(r),r},n.prototype.text=function(t){var e;return C(t)&&this.element(t),e=new b(this,t),this.children.push(e),this},n.prototype.cdata=function(t){var e;return e=new r(this,t),this.children.push(e),this},n.prototype.comment=function(t){var e;return e=new o(this,t),this.children.push(e),this},n.prototype.commentBefore=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},n.prototype.commentAfter=function(t){var e,n;return e=this.parent.children.indexOf(this),n=this.parent.children.splice(e+1),this.parent.comment(t),Array.prototype.push.apply(this.parent.children,n),this},n.prototype.raw=function(t){var e;return e=new w(this,t),this.children.push(e),this},n.prototype.dummy=function(){return new p(this)},n.prototype.instruction=function(t,e){var n,r,o,i,s;if(null!=t&&(t=D(t)),null!=e&&(e=D(e)),Array.isArray(t))for(i=0,s=t.length;i<s;i++)n=t[i],this.instruction(n);else if(C(t))for(n in t)F.call(t,n)&&(r=t[n],this.instruction(n,r));else _(e)&&(e=e.apply()),o=new f(this,t,e),this.children.push(o);return this},n.prototype.instructionBefore=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},n.prototype.instructionAfter=function(t,e){var n,r;return n=this.parent.children.indexOf(this),r=this.parent.children.splice(n+1),this.parent.instruction(t,e),Array.prototype.push.apply(this.parent.children,r),this},n.prototype.declaration=function(t,n,r){var o,s;return o=this.document(),s=new i(o,t,n,r),0===o.children.length?o.children.unshift(s):o.children[0].type===e.Declaration?o.children[0]=s:o.children.unshift(s),o.root()||o},n.prototype.dtd=function(t,n){var r,o,i,p,u,h,a,c,l;for(r=this.document(),o=new s(r,t,n),i=p=0,h=(c=r.children).length;p<h;i=++p)if(c[i].type===e.DocType)return r.children[i]=o,o;for(i=u=0,a=(l=r.children).length;u<a;i=++u)if(l[i].isRoot)return r.children.splice(i,0,o),o;return r.children.push(o),o},n.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},n.prototype.root=function(){var t;for(t=this;t;){if(t.type===e.Document)return t.rootObject;if(t.isRoot)return t;t=t.parent}},n.prototype.document=function(){var t;for(t=this;t;){if(t.type===e.Document)return t;t=t.parent}},n.prototype.end=function(t){return this.document().end(t)},n.prototype.prev=function(){var t;if((t=this.parent.children.indexOf(this))<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[t-1]},n.prototype.next=function(){var t;if(-1===(t=this.parent.children.indexOf(this))||t===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[t+1]},n.prototype.importDocument=function(t){var e;return(e=t.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},n.prototype.debugInfo=function(t){var e,n;return null!=(t=t||this.name)||(null!=(e=this.parent)?e.name:void 0)?null==t?"parent: <"+this.parent.name+">":(null!=(n=this.parent)?n.name:void 0)?"node: <"+t+">, parent: <"+this.parent.name+">":"node: <"+t+">":""},n.prototype.ele=function(t,e,n){return this.element(t,e,n)},n.prototype.nod=function(t,e,n){return this.node(t,e,n)},n.prototype.txt=function(t){return this.text(t)},n.prototype.dat=function(t){return this.cdata(t)},n.prototype.com=function(t){return this.comment(t)},n.prototype.ins=function(t,e){return this.instruction(t,e)},n.prototype.doc=function(){return this.document()},n.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},n.prototype.e=function(t,e,n){return this.element(t,e,n)},n.prototype.n=function(t,e,n){return this.node(t,e,n)},n.prototype.t=function(t){return this.text(t)},n.prototype.d=function(t){return this.cdata(t)},n.prototype.c=function(t){return this.comment(t)},n.prototype.r=function(t){return this.raw(t)},n.prototype.i=function(t,e){return this.instruction(t,e)},n.prototype.u=function(){return this.up()},n.prototype.importXMLBuilder=function(t){return this.importDocument(t)},n.prototype.replaceChild=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.removeChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.appendChild=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.hasChildNodes=function(){return 0!==this.children.length},n.prototype.cloneNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isSupported=function(t,e){return!0},n.prototype.hasAttributes=function(){return 0!==this.attribs.length},n.prototype.compareDocumentPosition=function(e){var n,r;return(n=this)===e?0:this.document()!==e.document()?(r=t.Disconnected|t.ImplementationSpecific,Math.random()<.5?r|=t.Preceding:r|=t.Following,r):n.isAncestor(e)?t.Contains|t.Preceding:n.isDescendant(e)?t.Contains|t.Following:n.isPreceding(e)?t.Preceding:t.Following},n.prototype.isSameNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.lookupPrefix=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isDefaultNamespace=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.lookupNamespaceURI=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.isEqualNode=function(t){var e,n,r;if(t.nodeType!==this.nodeType)return!1;if(t.children.length!==this.children.length)return!1;for(e=n=0,r=this.children.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n)if(!this.children[e].isEqualNode(t.children[e]))return!1;return!0},n.prototype.getFeature=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.setUserData=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.getUserData=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.contains=function(t){return!!t&&(t===this||this.isDescendant(t))},n.prototype.isDescendant=function(t){var e,n,r,o;for(n=0,r=(o=this.children).length;n<r;n++){if(t===(e=o[n]))return!0;if(e.isDescendant(t))return!0}return!1},n.prototype.isAncestor=function(t){return t.isDescendant(this)},n.prototype.isPreceding=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e<n},n.prototype.isFollowing=function(t){var e,n;return e=this.treePosition(t),n=this.treePosition(this),-1!==e&&-1!==n&&e>n},n.prototype.treePosition=function(t){var e,n;return n=0,e=!1,this.foreachTreeNode(this.document(),(function(r){if(n++,!e&&r===t)return e=!0})),e?n:-1},n.prototype.foreachTreeNode=function(t,e){var n,r,o,i,s;for(t||(t=this.document()),r=0,o=(i=t.children).length;r<o;r++){if(s=e(n=i[r]))return s;if(s=this.foreachTreeNode(n,e))return s}},n}()}.call(t);var _={exports:{}};(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty;_.exports=function(){function n(n){var r,o,i;for(r in this.assertLegalName=t(this.assertLegalName,this),this.assertLegalChar=t(this.assertLegalChar,this),n||(n={}),this.options=n,this.options.version||(this.options.version="1.0"),o=n.stringify||{})e.call(o,r)&&(i=o[r],this[r]=i)}return n.prototype.name=function(t){return this.options.noValidation?t:this.assertLegalName(""+t||"")},n.prototype.text=function(t){return this.options.noValidation?t:this.assertLegalChar(this.textEscape(""+t||""))},n.prototype.cdata=function(t){return this.options.noValidation?t:(t=(t=""+t||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(t))},n.prototype.comment=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+t);return this.assertLegalChar(t)},n.prototype.raw=function(t){return this.options.noValidation?t:""+t||""},n.prototype.attValue=function(t){return this.options.noValidation?t:this.assertLegalChar(this.attEscape(t=""+t||""))},n.prototype.insTarget=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},n.prototype.insValue=function(t){if(this.options.noValidation)return t;if((t=""+t||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+t);return this.assertLegalChar(t)},n.prototype.xmlVersion=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+t);return t},n.prototype.xmlEncoding=function(t){if(this.options.noValidation)return t;if(!(t=""+t||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+t);return this.assertLegalChar(t)},n.prototype.xmlStandalone=function(t){return this.options.noValidation?t:t?"yes":"no"},n.prototype.dtdPubID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},n.prototype.dtdSysID=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},n.prototype.dtdElementValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},n.prototype.dtdAttType=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},n.prototype.dtdAttDefault=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},n.prototype.dtdEntityValue=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},n.prototype.dtdNData=function(t){return this.options.noValidation?t:this.assertLegalChar(""+t||"")},n.prototype.convertAttKey="@",n.prototype.convertPIKey="?",n.prototype.convertTextKey="#text",n.prototype.convertCDataKey="#cdata",n.prototype.convertCommentKey="#comment",n.prototype.convertRawKey="#raw",n.prototype.assertLegalChar=function(t){var e,n;if(this.options.noValidation)return t;if(e="","1.0"===this.options.version){if(e=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e))throw new Error("Invalid character in string: "+t+" at index "+n.index)}else if("1.1"===this.options.version&&(e=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,n=t.match(e)))throw new Error("Invalid character in string: "+t+" at index "+n.index);return t},n.prototype.assertLegalName=function(t){var e;if(this.options.noValidation)return t;if(this.assertLegalChar(t),e=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!t.match(e))throw new Error("Invalid character in name");return t},n.prototype.textEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},n.prototype.attEscape=function(t){var e;return this.options.noValidation?t:(e=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,t.replace(e,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},n}()}).call(t);var C={exports:{}},P={exports:{}},F={exports:{}};(function(){F.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(t),function(){var t,e,r,o={}.hasOwnProperty;r=n.assign,t=a.exports,e=F.exports,P.exports=function(){function n(t){var e,n,r;for(e in t||(t={}),this.options=t,n=t.writer||{})o.call(n,e)&&(r=n[e],this["_"+e]=this[e],this[e]=r)}return n.prototype.filterOptions=function(t){var n,o,i,s,p,u,h,a;return t||(t={}),t=r({},this.options,t),(n={writer:this}).pretty=t.pretty||!1,n.allowEmpty=t.allowEmpty||!1,n.indent=null!=(o=t.indent)?o:"  ",n.newline=null!=(i=t.newline)?i:"\n",n.offset=null!=(s=t.offset)?s:0,n.dontPrettyTextNodes=null!=(p=null!=(u=t.dontPrettyTextNodes)?u:t.dontprettytextnodes)?p:0,n.spaceBeforeSlash=null!=(h=null!=(a=t.spaceBeforeSlash)?a:t.spacebeforeslash)?h:"",!0===n.spaceBeforeSlash&&(n.spaceBeforeSlash=" "),n.suppressPrettyCount=0,n.user={},n.state=e.None,n},n.prototype.indent=function(t,e,n){var r;return!e.pretty||e.suppressPrettyCount?"":e.pretty&&(r=(n||0)+e.offset+1)>0?new Array(r).join(e.indent):""},n.prototype.endline=function(t,e,n){return!e.pretty||e.suppressPrettyCount?"":e.newline},n.prototype.attribute=function(t,e,n){var r;return this.openAttribute(t,e,n),r=" "+t.name+'="'+t.value+'"',this.closeAttribute(t,e,n),r},n.prototype.cdata=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r)+"<![CDATA[",n.state=e.InsideTag,o+=t.value,n.state=e.CloseTag,o+="]]>"+this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.comment=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r)+"\x3c!-- ",n.state=e.InsideTag,o+=t.value,n.state=e.CloseTag,o+=" --\x3e"+this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.declaration=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r)+"<?xml",n.state=e.InsideTag,o+=' version="'+t.version+'"',null!=t.encoding&&(o+=' encoding="'+t.encoding+'"'),null!=t.standalone&&(o+=' standalone="'+t.standalone+'"'),n.state=e.CloseTag,o+=n.spaceBeforeSlash+"?>",o+=this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.docType=function(t,n,r){var o,i,s,p,u;if(r||(r=0),this.openNode(t,n,r),n.state=e.OpenTag,p=this.indent(t,n,r),p+="<!DOCTYPE "+t.root().name,t.pubID&&t.sysID?p+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(p+=' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(p+=" [",p+=this.endline(t,n,r),n.state=e.InsideTag,i=0,s=(u=t.children).length;i<s;i++)o=u[i],p+=this.writeChildNode(o,n,r+1);n.state=e.CloseTag,p+="]"}return n.state=e.CloseTag,p+=n.spaceBeforeSlash+">",p+=this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),p},n.prototype.element=function(n,r,i){var s,p,u,h,a,c,l,d,f,y,m,g,w,b;for(f in i||(i=0),y=!1,m="",this.openNode(n,r,i),r.state=e.OpenTag,m+=this.indent(n,r,i)+"<"+n.name,g=n.attribs)o.call(g,f)&&(s=g[f],m+=this.attribute(s,r,i));if(h=0===(u=n.children.length)?null:n.children[0],0===u||n.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))r.allowEmpty?(m+=">",r.state=e.CloseTag,m+="</"+n.name+">"+this.endline(n,r,i)):(r.state=e.CloseTag,m+=r.spaceBeforeSlash+"/>"+this.endline(n,r,i));else if(!r.pretty||1!==u||h.type!==t.Text&&h.type!==t.Raw||null==h.value){if(r.dontPrettyTextNodes)for(a=0,l=(w=n.children).length;a<l;a++)if(((p=w[a]).type===t.Text||p.type===t.Raw)&&null!=p.value){r.suppressPrettyCount++,y=!0;break}for(m+=">"+this.endline(n,r,i),r.state=e.InsideTag,c=0,d=(b=n.children).length;c<d;c++)p=b[c],m+=this.writeChildNode(p,r,i+1);r.state=e.CloseTag,m+=this.indent(n,r,i)+"</"+n.name+">",y&&r.suppressPrettyCount--,m+=this.endline(n,r,i),r.state=e.None}else m+=">",r.state=e.InsideTag,r.suppressPrettyCount++,y=!0,m+=this.writeChildNode(h,r,i+1),r.suppressPrettyCount--,y=!1,r.state=e.CloseTag,m+="</"+n.name+">"+this.endline(n,r,i);return this.closeNode(n,r,i),m},n.prototype.writeChildNode=function(e,n,r){switch(e.type){case t.CData:return this.cdata(e,n,r);case t.Comment:return this.comment(e,n,r);case t.Element:return this.element(e,n,r);case t.Raw:return this.raw(e,n,r);case t.Text:return this.text(e,n,r);case t.ProcessingInstruction:return this.processingInstruction(e,n,r);case t.Dummy:return"";case t.Declaration:return this.declaration(e,n,r);case t.DocType:return this.docType(e,n,r);case t.AttributeDeclaration:return this.dtdAttList(e,n,r);case t.ElementDeclaration:return this.dtdElement(e,n,r);case t.EntityDeclaration:return this.dtdEntity(e,n,r);case t.NotationDeclaration:return this.dtdNotation(e,n,r);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},n.prototype.processingInstruction=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r)+"<?",n.state=e.InsideTag,o+=t.target,t.value&&(o+=" "+t.value),n.state=e.CloseTag,o+=n.spaceBeforeSlash+"?>",o+=this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.raw=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r),n.state=e.InsideTag,o+=t.value,n.state=e.CloseTag,o+=this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.text=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r),n.state=e.InsideTag,o+=t.value,n.state=e.CloseTag,o+=this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.dtdAttList=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r)+"<!ATTLIST",n.state=e.InsideTag,o+=" "+t.elementName+" "+t.attributeName+" "+t.attributeType,"#DEFAULT"!==t.defaultValueType&&(o+=" "+t.defaultValueType),t.defaultValue&&(o+=' "'+t.defaultValue+'"'),n.state=e.CloseTag,o+=n.spaceBeforeSlash+">"+this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.dtdElement=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r)+"<!ELEMENT",n.state=e.InsideTag,o+=" "+t.name+" "+t.value,n.state=e.CloseTag,o+=n.spaceBeforeSlash+">"+this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.dtdEntity=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r)+"<!ENTITY",n.state=e.InsideTag,t.pe&&(o+=" %"),o+=" "+t.name,t.value?o+=' "'+t.value+'"':(t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),t.nData&&(o+=" NDATA "+t.nData)),n.state=e.CloseTag,o+=n.spaceBeforeSlash+">"+this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.dtdNotation=function(t,n,r){var o;return this.openNode(t,n,r),n.state=e.OpenTag,o=this.indent(t,n,r)+"<!NOTATION",n.state=e.InsideTag,o+=" "+t.name,t.pubID&&t.sysID?o+=' PUBLIC "'+t.pubID+'" "'+t.sysID+'"':t.pubID?o+=' PUBLIC "'+t.pubID+'"':t.sysID&&(o+=' SYSTEM "'+t.sysID+'"'),n.state=e.CloseTag,o+=n.spaceBeforeSlash+">"+this.endline(t,n,r),n.state=e.None,this.closeNode(t,n,r),o},n.prototype.openNode=function(t,e,n){},n.prototype.closeNode=function(t,e,n){},n.prototype.openAttribute=function(t,e,n){},n.prototype.closeAttribute=function(t,e,n){},n}()}.call(t),function(){var t,e={}.hasOwnProperty;t=P.exports,C.exports=function(t){function n(t){n.__super__.constructor.call(this,t)}return function(t,n){for(var r in n)e.call(n,r)&&(t[r]=n[r]);function o(){this.constructor=t}o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype}(n,t),n.prototype.document=function(t,e){var n,r,o,i,s;for(e=this.filterOptions(e),i="",r=0,o=(s=t.children).length;r<o;r++)n=s[r],i+=this.writeChildNode(n,e,0);return e.pretty&&i.slice(-e.newline.length)===e.newline&&(i=i.slice(0,-e.newline.length)),i},n}(t)}.call(t),function(){var t,e,s,p,h,c,l,d={}.hasOwnProperty;l=n.isPlainObject,s=r.exports,e=i.exports,p=u.exports,t=a.exports,c=_.exports,h=C.exports,o.exports=function(n){function r(n){r.__super__.constructor.call(this,null),this.name="#document",this.type=t.Document,this.documentURI=null,this.domConfig=new e,n||(n={}),n.writer||(n.writer=new h),this.options=n,this.stringify=new c(n)}return function(t,e){for(var n in e)d.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype}(r,n),Object.defineProperty(r.prototype,"implementation",{value:new s}),Object.defineProperty(r.prototype,"doctype",{get:function(){var e,n,r,o;for(n=0,r=(o=this.children).length;n<r;n++)if((e=o[n]).type===t.DocType)return e;return null}}),Object.defineProperty(r.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(r.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(r.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(r.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].encoding:null}}),Object.defineProperty(r.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(r.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===t.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(r.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(r.prototype,"origin",{get:function(){return null}}),Object.defineProperty(r.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(r.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(r.prototype,"contentType",{get:function(){return null}}),r.prototype.end=function(t){var e;return e={},t?l(t)&&(e=t,t=this.options.writer):t=this.options.writer,t.document(this,t.filterOptions(e))},r.prototype.toString=function(t){return this.options.writer.document(this,this.options.writer.filterOptions(t))},r.prototype.createElement=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTextNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createComment=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createCDATASection=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createProcessingInstruction=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttribute=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEntityReference=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.importNode=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createElementNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createAttributeNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByTagNameNS=function(t,e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementById=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.adoptNode=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.renameNode=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.getElementsByClassName=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createEvent=function(t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createNodeIterator=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.createTreeWalker=function(t,e,n){throw new Error("This DOM method is not implemented."+this.debugInfo())},r}(p)}.call(t);var A={exports:{}};(function(){var t,e,r,i,s,p,u,l,f,E,T,N,P,M,L,j,S,V,R,B,U,k,K,q={}.hasOwnProperty;U=(K=n).isObject,B=K.isFunction,k=K.isPlainObject,R=K.getValue,t=a.exports,N=o.exports,P=h.exports,i=d.exports,s=y.exports,L=O.exports,V=x.exports,M=I.exports,E=m.exports,T=g.exports,p=w.exports,l=b.exports,u=D.exports,f=v.exports,r=c.exports,S=_.exports,j=C.exports,e=F.exports,A.exports=function(){function n(e,n,r){var o;this.name="?xml",this.type=t.Document,e||(e={}),o={},e.writer?k(e.writer)&&(o=e.writer,e.writer=new j):e.writer=new j,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(o),this.stringify=new S(e),this.onDataCallback=n||function(){},this.onEndCallback=r||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}return n.prototype.createChildNode=function(e){var n,r,o,i,s,p,u,h;switch(e.type){case t.CData:this.cdata(e.value);break;case t.Comment:this.comment(e.value);break;case t.Element:for(r in o={},u=e.attribs)q.call(u,r)&&(n=u[r],o[r]=n.value);this.node(e.name,o);break;case t.Dummy:this.dummy();break;case t.Raw:this.raw(e.value);break;case t.Text:this.text(e.value);break;case t.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(s=0,p=(h=e.children).length;s<p;s++)i=h[s],this.createChildNode(i),i.type===t.Element&&this.up();return this},n.prototype.dummy=function(){return this},n.prototype.node=function(t,e,n){var r;if(null==t)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(t));return this.openCurrent(),t=R(t),null==e&&(e={}),e=R(e),U(e)||(n=(r=[e,n])[0],e=r[1]),this.currentNode=new P(this,t,e),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=n&&this.text(n),this},n.prototype.element=function(e,n,r){var o,i,s,p,u,h;if(this.currentNode&&this.currentNode.type===t.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||U(e)||B(e))for(p=this.options.noValidation,this.options.noValidation=!0,(h=new N(this.options).element("TEMP_ROOT")).element(e),this.options.noValidation=p,i=0,s=(u=h.children).length;i<s;i++)o=u[i],this.createChildNode(o),o.type===t.Element&&this.up();else this.node(e,n,r);return this},n.prototype.attribute=function(t,e){var n,o;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(t));if(null!=t&&(t=R(t)),U(t))for(n in t)q.call(t,n)&&(o=t[n],this.attribute(n,o));else B(e)&&(e=e.apply()),this.options.keepNullAttributes&&null==e?this.currentNode.attribs[t]=new r(this,t,""):null!=e&&(this.currentNode.attribs[t]=new r(this,t,e));return this},n.prototype.text=function(t){var e;return this.openCurrent(),e=new V(this,t),this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.cdata=function(t){var e;return this.openCurrent(),e=new i(this,t),this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.comment=function(t){var e;return this.openCurrent(),e=new s(this,t),this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.raw=function(t){var e;return this.openCurrent(),e=new L(this,t),this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.instruction=function(t,e){var n,r,o,i,s;if(this.openCurrent(),null!=t&&(t=R(t)),null!=e&&(e=R(e)),Array.isArray(t))for(n=0,i=t.length;n<i;n++)r=t[n],this.instruction(r);else if(U(t))for(r in t)q.call(t,r)&&(o=t[r],this.instruction(r,o));else B(e)&&(e=e.apply()),s=new M(this,t,e),this.onData(this.writer.processingInstruction(s,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},n.prototype.declaration=function(t,e,n){var r;if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return r=new E(this,t,e,n),this.onData(this.writer.declaration(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.doctype=function(t,e,n){if(this.openCurrent(),null==t)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new T(this,e,n),this.currentNode.rootNodeName=t,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},n.prototype.dtdElement=function(t,e){var n;return this.openCurrent(),n=new u(this,t,e),this.onData(this.writer.dtdElement(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.attList=function(t,e,n,r,o){var i;return this.openCurrent(),i=new p(this,t,e,n,r,o),this.onData(this.writer.dtdAttList(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.entity=function(t,e){var n;return this.openCurrent(),n=new l(this,!1,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.pEntity=function(t,e){var n;return this.openCurrent(),n=new l(this,!0,t,e),this.onData(this.writer.dtdEntity(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.notation=function(t,e){var n;return this.openCurrent(),n=new f(this,t,e),this.onData(this.writer.dtdNotation(n,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},n.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},n.prototype.end=function(){for(;this.currentLevel>=0;)this.up();return this.onEnd()},n.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},n.prototype.openNode=function(n){var r,o,i,s;if(!n.isOpen){if(this.root||0!==this.currentLevel||n.type!==t.Element||(this.root=n),o="",n.type===t.Element){for(i in this.writerOptions.state=e.OpenTag,o=this.writer.indent(n,this.writerOptions,this.currentLevel)+"<"+n.name,s=n.attribs)q.call(s,i)&&(r=s[i],o+=this.writer.attribute(r,this.writerOptions,this.currentLevel));o+=(n.children?">":"/>")+this.writer.endline(n,this.writerOptions,this.currentLevel),this.writerOptions.state=e.InsideTag}else this.writerOptions.state=e.OpenTag,o=this.writer.indent(n,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+n.rootNodeName,n.pubID&&n.sysID?o+=' PUBLIC "'+n.pubID+'" "'+n.sysID+'"':n.sysID&&(o+=' SYSTEM "'+n.sysID+'"'),n.children?(o+=" [",this.writerOptions.state=e.InsideTag):(this.writerOptions.state=e.CloseTag,o+=">"),o+=this.writer.endline(n,this.writerOptions,this.currentLevel);return this.onData(o,this.currentLevel),n.isOpen=!0}},n.prototype.closeNode=function(n){var r;if(!n.isClosed)return r="",this.writerOptions.state=e.CloseTag,r=n.type===t.Element?this.writer.indent(n,this.writerOptions,this.currentLevel)+"</"+n.name+">"+this.writer.endline(n,this.writerOptions,this.currentLevel):this.writer.indent(n,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(n,this.writerOptions,this.currentLevel),this.writerOptions.state=e.None,this.onData(r,this.currentLevel),n.isClosed=!0},n.prototype.onData=function(t,e){return this.documentStarted=!0,this.onDataCallback(t,e+1)},n.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},n.prototype.debugInfo=function(t){return null==t?"":"node: <"+t+">"},n.prototype.ele=function(){return this.element.apply(this,arguments)},n.prototype.nod=function(t,e,n){return this.node(t,e,n)},n.prototype.txt=function(t){return this.text(t)},n.prototype.dat=function(t){return this.cdata(t)},n.prototype.com=function(t){return this.comment(t)},n.prototype.ins=function(t,e){return this.instruction(t,e)},n.prototype.dec=function(t,e,n){return this.declaration(t,e,n)},n.prototype.dtd=function(t,e,n){return this.doctype(t,e,n)},n.prototype.e=function(t,e,n){return this.element(t,e,n)},n.prototype.n=function(t,e,n){return this.node(t,e,n)},n.prototype.t=function(t){return this.text(t)},n.prototype.d=function(t){return this.cdata(t)},n.prototype.c=function(t){return this.comment(t)},n.prototype.r=function(t){return this.raw(t)},n.prototype.i=function(t,e){return this.instruction(t,e)},n.prototype.att=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},n.prototype.a=function(){return this.currentNode&&this.currentNode.type===t.DocType?this.attList.apply(this,arguments):this.attribute.apply(this,arguments)},n.prototype.ent=function(t,e){return this.entity(t,e)},n.prototype.pent=function(t,e){return this.pEntity(t,e)},n.prototype.not=function(t,e){return this.notation(t,e)},n}()}).call(t);var M,L,j,S,V,R,B,U={exports:{}};(function(){var t,e,n,r={}.hasOwnProperty;t=a.exports,n=P.exports,e=F.exports,U.exports=function(n){function o(t,e){this.stream=t,o.__super__.constructor.call(this,e)}return function(t,e){for(var n in e)r.call(e,n)&&(t[n]=e[n]);function o(){this.constructor=t}o.prototype=e.prototype,t.prototype=new o,t.__super__=e.prototype}(o,n),o.prototype.endline=function(t,n,r){return t.isLastRootNode&&n.state===e.CloseTag?"":o.__super__.endline.call(this,t,n,r)},o.prototype.document=function(t,e){var n,r,o,i,s,p,u,h,a;for(r=o=0,s=(u=t.children).length;o<s;r=++o)(n=u[r]).isLastRootNode=r===t.children.length-1;for(e=this.filterOptions(e),a=[],i=0,p=(h=t.children).length;i<p;i++)n=h[i],a.push(this.writeChildNode(n,e,0));return a},o.prototype.attribute=function(t,e,n){return this.stream.write(o.__super__.attribute.call(this,t,e,n))},o.prototype.cdata=function(t,e,n){return this.stream.write(o.__super__.cdata.call(this,t,e,n))},o.prototype.comment=function(t,e,n){return this.stream.write(o.__super__.comment.call(this,t,e,n))},o.prototype.declaration=function(t,e,n){return this.stream.write(o.__super__.declaration.call(this,t,e,n))},o.prototype.docType=function(t,n,r){var o,i,s,p;if(r||(r=0),this.openNode(t,n,r),n.state=e.OpenTag,this.stream.write(this.indent(t,n,r)),this.stream.write("<!DOCTYPE "+t.root().name),t.pubID&&t.sysID?this.stream.write(' PUBLIC "'+t.pubID+'" "'+t.sysID+'"'):t.sysID&&this.stream.write(' SYSTEM "'+t.sysID+'"'),t.children.length>0){for(this.stream.write(" ["),this.stream.write(this.endline(t,n,r)),n.state=e.InsideTag,i=0,s=(p=t.children).length;i<s;i++)o=p[i],this.writeChildNode(o,n,r+1);n.state=e.CloseTag,this.stream.write("]")}return n.state=e.CloseTag,this.stream.write(n.spaceBeforeSlash+">"),this.stream.write(this.endline(t,n,r)),n.state=e.None,this.closeNode(t,n,r)},o.prototype.element=function(n,o,i){var s,p,u,h,a,c,l,d,f;for(l in i||(i=0),this.openNode(n,o,i),o.state=e.OpenTag,this.stream.write(this.indent(n,o,i)+"<"+n.name),d=n.attribs)r.call(d,l)&&(s=d[l],this.attribute(s,o,i));if(h=0===(u=n.children.length)?null:n.children[0],0===u||n.children.every((function(e){return(e.type===t.Text||e.type===t.Raw)&&""===e.value})))o.allowEmpty?(this.stream.write(">"),o.state=e.CloseTag,this.stream.write("</"+n.name+">")):(o.state=e.CloseTag,this.stream.write(o.spaceBeforeSlash+"/>"));else if(!o.pretty||1!==u||h.type!==t.Text&&h.type!==t.Raw||null==h.value){for(this.stream.write(">"+this.endline(n,o,i)),o.state=e.InsideTag,a=0,c=(f=n.children).length;a<c;a++)p=f[a],this.writeChildNode(p,o,i+1);o.state=e.CloseTag,this.stream.write(this.indent(n,o,i)+"</"+n.name+">")}else this.stream.write(">"),o.state=e.InsideTag,o.suppressPrettyCount++,this.writeChildNode(h,o,i+1),o.suppressPrettyCount--,o.state=e.CloseTag,this.stream.write("</"+n.name+">");return this.stream.write(this.endline(n,o,i)),o.state=e.None,this.closeNode(n,o,i)},o.prototype.processingInstruction=function(t,e,n){return this.stream.write(o.__super__.processingInstruction.call(this,t,e,n))},o.prototype.raw=function(t,e,n){return this.stream.write(o.__super__.raw.call(this,t,e,n))},o.prototype.text=function(t,e,n){return this.stream.write(o.__super__.text.call(this,t,e,n))},o.prototype.dtdAttList=function(t,e,n){return this.stream.write(o.__super__.dtdAttList.call(this,t,e,n))},o.prototype.dtdElement=function(t,e,n){return this.stream.write(o.__super__.dtdElement.call(this,t,e,n))},o.prototype.dtdEntity=function(t,e,n){return this.stream.write(o.__super__.dtdEntity.call(this,t,e,n))},o.prototype.dtdNotation=function(t,e,n){return this.stream.write(o.__super__.dtdNotation.call(this,t,e,n))},o}(n)}).call(t),function(){var t,i,s,p,u,h,c,l,d,f;l=(f=n).assign,d=f.isFunction,s=r.exports,p=o.exports,u=A.exports,c=C.exports,h=U.exports,t=a.exports,i=F.exports,B=e.create=function(t,e,n,r){var o,i;if(null==t)throw new Error("Root element needs a name.");return r=l({},e,n,r),i=(o=new p(r)).element(t),r.headless||(o.declaration(r),null==r.pubID&&null==r.sysID||o.dtd(r)),i},R=e.begin=function(t,e,n){var r;return d(t)&&(e=(r=[t,e])[0],n=r[1],t={}),e?new u(t,e,n):new p(t)},V=e.stringWriter=function(t){return new c(t)},S=e.streamWriter=function(t,e){return new h(t,e)},j=e.implementation=new s,L=e.nodeType=t,M=e.writerState=i}.call(t);export{R as begin,B as create,e as default,j as implementation,L as nodeType,S as streamWriter,V as stringWriter,M as writerState};
